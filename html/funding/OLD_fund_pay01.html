<!DOCTYPE html>
<html lang="zxx">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>펀딩결제창1</title>
        <link rel="stylesheet" href="../../css/main/OLD_main_menu_1.css">
        <link rel="stylesheet" href="../../css/main/OLD_bottom_bar.css">
        <link rel="stylesheet" href="../../../css/funding/OLD_fund_pay01.css">
    </head>
    <body>
        <div data-include-path="../../html/main/OLD_main_menu_1.html"></div>
        <!-- 헤더 영역 -->
        <!-- 결제모달 시작 -->
        <div class="modal">
            <div class="modal_body">
                <div class="modal_header">
                    <h2>신용카드</h2>
                    <button class="btn-close">&times;</button>
                </div>
          
                <div class="modal_section">
                    <div class="terms-section">

                        <div class="terms-header">
                            <span class="terms-title">이용약관</span>
                            <label><input type="checkbox" onclick="selectAll(this)"> 전체동의</label>
                        </div>
                        <div class="terms-bottom">
                            <div>
                                <span>전자금융거래 이용약관</span>
                                <button class="btn-view">약관 보기</button>
                                <label><input type="checkbox" name="agree"> 동의</label><br>
                            </div>
                            <div>
                                <span>개인정보의 수집 및 이용 안내</span>
                                <button class="btn-view">약관 보기</button>
                                <label><input type="checkbox" name="agree"> 동의</label><br>
                            </div>
                        </div>
                      
                    </div>
                      
                
                    <!-- 간편결제 버튼 -->
                    <div class="easy-pay">
                        <button class="kakao-pay">카카오페이로 간편 결제하기</button>
                        <button class="naver-pay">네이버페이로 간편 결제하기</button>
                    </div>
                
                    <!-- 기타 결제 수단 -->
                    <div class="other-pay">
                        <div class="top-group" id="top-group">
                            <div class="pay-top">
                                <label><input type="radio" name="pay" checked> 카드 간편결제</label>
                                <label><input type="radio" name="pay"> 계좌 이체</label>
                            </div>
                        </div>
                        <div class="pay-bottom">
                            <button class="add-card">+ 카드 등록</button>
                        </div>
                    </div>
                </div>
          
                <div class="modal_summary">
                    <ul>
                        <li><strong>상품명:</strong> human</li>
                        <li><strong>상품가격:</strong> 37,000원</li>
                        <li><strong>제공기간:</strong> 별도제공</li>
                        <li><strong>결제금액:</strong> 37,000원</li>
                    </ul>
                    <button class="next-btn">다음</button>
                </div>
            </div>
        </div>
        <!-- 여기까지 결제모달 여기부터 카드등록모달 -->
        <div class="modal-card">
            <div class="modal-card_body">
                <div class="modal_header">
                    <h2>신용/체크 카드 등록</h2>
                    <button class="btn-close">&times;</button>
                </div>
            
                <form class="card-form">
                <div class="card-type">
                    <label><input type="radio" name="type" checked> 개인</label>
                    <label><input type="radio" name="type"> 법인</label>
                </div>
                
                <p>카드번호</p>
                <div class="card-number-group">
                    <select class="card-brand">
                        <option value="국민">국민</option>
                        <option value="삼성">삼성</option>
                        <option value="현대">현대</option>
                        <option value="신한">신한</option>
                        <option value="롯데">롯데</option>
                    </select>
                    <input type="text" placeholder="0000 - 0000 - 0000 - 0000" class="card-number" id="card-number" />
                </div>
                
                <p>카드 유효기간</p>
                <div class="card-expiry">
                    <select>
                        <option>01</option>
                        <option>02</option>
                        <option>03</option>
                        <option>04</option>
                        <option>05</option>
                        <option>06</option>
                        <option>07</option>
                        <option>08</option>
                        <option>09</option>
                        <option>10</option>
                        <option>11</option>
                        <option>12</option>
                    </select>
                    <select>
                        <option>2025</option>
                        <option>2026</option>
                        <option>2027</option>
                        <option>2028</option>
                        <option>2029</option>
                        <option>2030</option>
                        <option>2031</option>
                        <option>2032</option>
                        <option>2033</option>
                        <option>2034</option>
                        <option>2035</option>
                    </select>
                </div>
            
                <div class="card-info">
                    <div>
                        <p>카드 비밀번호 앞 2자리</p>
                        <input type="password" maxlength="2" placeholder="앞 2자리를 입력해주세요." />
                    </div>
                    <div>
                        <p>소유주 생년월일</p>
                        <input type="text" maxlength="6" placeholder="예) 060921" />
                    </div>
                </div>
            
                <label class="default-check">
                    <input type="checkbox" checked /> 기본 결제수단으로 등록
                </label>
            
                <button type="button" class="submit-btn" id="submit-btn">등록 완료</button>
                </form>
            </div>
        </div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <button class="btn-open-popup">후원하기</button> 
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <div>1</div>
        <!-- 푸터 영역 -->
        <div data-include-path="../../html/main/OLD_bottom_bar.html"></div>
        <script src="../../js/addEventListener.js"></script>
        <script src="../../js/funding/OLD_fund_pay_01.js"></script>
    </body>
    <script>
        const body = document.querySelector('body');
        const modal = document.querySelector('.modal');
        const modalCard = document.querySelector('.modal-card');
        const btnOpenPopup = document.querySelector('.btn-open-popup');
        const addCard = document.querySelector('.add-card');
        const btnClose = document.querySelectorAll('.btn-close');
        // const submitBtn = document.querySelector('.submit-btn');
        // 모달창 닫기 함수
        function closeModals() {
            modal.classList.remove('show');
            modalCard.classList.remove('show');
            body.style.overflow = 'auto';
        }
        // 결제모달창 띄우기
        btnOpenPopup.addEventListener('click', () => {
            modal.classList.toggle('show');
    
            if (modal.classList.contains('show')) {
                body.style.overflow = 'hidden';
            }
        });
        // 카드등록 버튼 -> 카드등록화면
        addCard.addEventListener('click', () => {
            modalCard.classList.add('show');
            modal.classList.remove('show');
            body.style.overflow = 'hidden';
            
            // 카드번호에 숫자만
            const cardNumInput = document.getElementById('card-number');

            cardNumInput.addEventListener('input', () => {
                let onlyNums = cardNumInput.value.replace(/[^0-9]/g, '').slice(0, 16);
                let formatted = onlyNums.match(/.{1,4}/g)?.join(' - ') || '';
                cardNumInput.value = formatted;
            });
        });
        // x버튼클릭시 결제꺼짐
        btnClose.forEach((btn) => {
            btn.addEventListener('click', closeModals);
        });
        // 카드등록완료 버튼 -> 다시 결제화면
        submitBtn.addEventListener('click', () => {
            modalCard.classList.remove('show');
            modal.classList.add('show');
            body.style.overflow = 'hidden';
        });
    </script>
</html>